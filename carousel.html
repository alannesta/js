<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Carousel Demo</title>
<script src="script/jquery-1.8.3.js"></script>
<link rel="stylesheet" href="styles/bootstrap.css">
<style>
ul{
	list-style: none;
}

.carousel-container {
	position:relative;
	height: 443px;
	width: 500px;
}
.carousel-container li{
	position: absolute;
	top:0;
}

.carousel-container li.active {
	display: inline-block;
}

.carousel-container li.inactive{
	display: none;
}


.nav-footer{
	position: absolute;
	bottom: 0;
	right: 0;
	width: 100%;
	background-color: rgba(100, 100, 100, 0.3);
	/*text-align: right;*/
}

.nav-footer ul{
	float: right;

}

.nav-footer li{
	margin: 0 10px;
	float: left;
	position: static;
}

</style>
</head>
<body>
	<button id="previous">previous</button>
	<button id="next">next</button>
	<ul class="carousel-container">
		<li><img src="img/slide1.png" alt=""></li>
		<li><img src="img/slide2.png" alt=""></li>
		<li><img src="img/slide3.png" alt=""></li>
		<div class="nav-footer"></div>
	</ul>
	
</body>
<script>
	(function($){
		$.fn.carousel = function(){
			// console.log($(this).find('li').length);
			var $slides = $(this).find('li');
			var slides_count = $slides.length;
			var current = 0;

			//init, hide all slides except for the first one
			$slides.each(function(index){
				// $(this).find('img').each(function(){
				// 	$(this).addClass('inactive');
				// })
				if(index!==0){
					$(this).addClass('inactive');
				}

			});

			$navi = buildNav(slides_count);
			$("#previous").on('click', function(){
				lastSlide();
			});
			$("#next").on('click', function(){
				nextSlide();
			});

			function lastSlide(){
				console.log($slides[current]);
				$($slides[current]).addClass('inactive').removeClass('active');
				if (current-1>=0){
					$($slides[current-1]).removeClass('inactive').addClass('active');
					current = current-1;
				}else{
					$($slides[slides_count-1]).removeClass('inactive').addClass('active');
					current = slides_count-1;
				}
				
			}

			function nextSlide(){
				$($slides[current]).addClass('inactive').removeClass('active');

				if (current+1<slides_count){
					$($slides[current+1]).removeClass('inactive').addClass('active');
					current = current+1;
				}else{
					$($slides[0]).removeClass('inactive').addClass('active');
					current = 0;
				}

				
			}
			
		}

		function gotoSlide(index, $slides){

		}

		//build navigation bar according to the slides_count
		function buildNav(count){
			var nav_footer = '<ul>';
			for (var i = 0; i<count; i++){
				nav_footer = nav_footer+'<li>'+(i+1)+'</li>';

			}
			nav_footer = nav_footer + '</ul>'
			$('.nav-footer').append(nav_footer);


		}

		function bindClickEvents(){

		}

	})($)

	$('.carousel-container').carousel();		//how to extend to jquery style??


</script>
</html>