<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Swipe to Delete</title>
<script src="script/jquery-1.8.3.js"></script>
<script src="script/hammer.js"></script>
<link rel="stylesheet" href="styles/bootstrap.css">
<style>

ul{
	list-style: none;
	padding: 0px;
}

li{
	-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
	-moz-box-sizing: border-box;    /* Firefox, other Gecko */
	box-sizing: border-box;
}

div{
	-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
	-moz-box-sizing: border-box;    /* Firefox, other Gecko */
	box-sizing: border-box;
}

.news-list{
	/*width:400px;*/
	overflow: hidden;
}


.news-container{
	width:400px;
	position: relative;		/*absolute position the hidden div*/
	margin-bottom: 10px;
	height:120px;
	overflow: hidden;
}

.news-img {
	float:left;
	width:30%;
}
.news-img img{
	width:100%;
	height:100%;
}


.news-contentcontainer{
	padding:10px;
	float:left;
	width: 70%
}

.news-content{
	font-size: 16px;
}

.news-author blockquote{
	font-size: 12px;
}

.block-shown{
	-webkit-transition: left 0.3s ease-out;
	width: 100%;
	position: absolute;
	left: 0;
}

.block-hidden{
	-webkit-transition: left 0.3s ease-out;
	position: absolute;
	left: 400px;
	width: 100px;
	/*height:100%;*/
	height:120px;
	line-height: 120px;
	text-align: center;
	background-color: red;
	font-size: 20px;
}

</style>
</head>
<body>
	<ul id="news-list" class="news-list">
		<li class = "news-container clearfix">
			<div class="block-shown">
				<div class="news-img">
					<img src="img/slide1.png" alt="">
				</div>
				<div class="news-contentcontainer">
					<div class= "news-content">
						tai ping yang de fenger zui xian chu dao zheli
					</div>
					<div class="news-author">
						<blockquote>By Alan</blockquote>

					</div>
				</div>
			</div>
			
			<div class="block-hidden">DELETE</div>
		</li>
		
		<li class = "news-container clearfix">
			<div class="news-img">
				<img src="img/slide2.png" alt="">
			</div>
			<div class="news-contentcontainer">
				<div class= "news-content">
					tai ping yang de fenger zui xian chu dao zheli
				</div>
				<div class="news-author">
					<blockquote>By Alan</blockquote>
					
				</div>
			</div>
		</li>
		<li class = "news-container clearfix">
			<div class="news-img">
				<img src="img/slide1.png" alt="">
			</div>
			<div class="news-contentcontainer">
				<div class= "news-content">
					tai ping yang de fenger zui xian chu dao zheli
				</div>
				<div class="news-author">
					<blockquote>By Alan</blockquote>
					
				</div>
			</div>
		</li>
		<li class = "news-container clearfix">
			<div class="news-img">
				<img src="img/slide2.png" alt="">
			</div>
			<div class="news-contentcontainer">
				<div class= "news-content">
					tai ping yang de fenger zui xian chu dao zheli
				</div>
				<div class="news-author">
					<blockquote>By Alan</blockquote>
					
				</div>
			</div>
		</li>
		<li class = "news-container clearfix">
			<div class="news-img">
				<img src="img/slide1.png" alt="">
			</div>
			<div class="news-contentcontainer">
				<div class= "news-content">
					tai ping yang de fenger zui xian chu dao zheli
				</div>
				<div class="news-author">
					<blockquote>By Alan</blockquote>
					
				</div>
			</div>
		</li>
	</ul>
	
</body>
<script>
	
	var list = $('.news-container');
	var hammeredListItem = [];
	// console.log($('.news-container'));
	for (var i = 0; i<list.length; i++){
		hammeredListItem.push(new Hammer(list[i]));
		hammeredListItem[i].on('swipeleft', swipeLeftHandler);
		hammeredListItem[i].on('swiperight', swipeRightHandler);
	}
	// console.log(hammeredListItem);


	// var listItem = new Hammer()

	function swipeLeftHandler(e){
		// console.log(e.target.parentNode.parentNode.tagName);
		// alert('swiped');
		var parent = getParentLi(e.target);
		$(parent).find(".block-shown").css("left", -100);
		$(parent).find(".block-hidden").css("left", 300);
	}
	
	function swipeRightHandler(e){
		// console.log(e.target);
		var parent = getParentLi(e.target);
		$(parent).find(".block-shown").css("left", 0);
		$(parent).find(".block-hidden").css("left", 400);
	}

	function getParentLi(dom){
		while(dom.parentNode.tagName.toUpperCase() != "LI"){
			if (dom.tagName.toUpperCase() == "BODY") return;
			dom = dom.parentNode;
		}
		return dom.parentNode
	}

</script>
</html>