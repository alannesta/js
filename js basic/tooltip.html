<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="script/jquery-1.8.3.js"></script>
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<title>Tooltip</title>
</head>
<style type="text/css">
	.tooltip{
		position: absolute;
		left: 500px;
		top: 500px;
	}
	.tooltip i{
		font-size: 50px
	}

	.tooltip:hover{
		border: 1px solid red;
	}

	.triangle{
		/*position: absolute;
		left:100px;*/
		width: 0;
		height: 0;
		border-left: 7px solid transparent;
		border-right: 7px solid transparent;
		border-bottom: 20px solid red;
	}

	.content-box{
		width: 200px;
		/*height:100px;*/
		padding: 10px;
		background-color: red;
	}
	.tip-container{
		position: relative;
	}

</style>
<body>
	<div class="tooltip i"><i class="fa fa-futbol-o"></i></div>
<script>
	$(".tooltip").on('mouseover', function(event){
		$(this).toolTip(this);
	})

	$.fn.extend({
		toolTip: function(context){
			
			if ($(context).attr('data-tooltip') == "true"){
				// console.log("return, do not create new tooltip");
				return;
			}
			var tooltip, tip_hover = false;
			var left = window.getComputedStyle(context).getPropertyValue("left").replace("px", "");
			var top = $(context).css("top").replace("px", "");

			var posX = context.offsetWidth/2 + parseInt(left, 10);
			var posY = context.offsetHeight + parseInt(top, 10);
			_create(posX, posY);

			// create and show tooltip
			function _create(x, y){
				console.log("create");
				tooltip = $("<div class='tip-container'><div class='triangle'></div><div class='content-box'>Tool Tips</div></div>");
				
				tooltip.css({
					"position": "absolute",
					"left": x,
					"top": y
				})

				tooltip.attr('fade', 500);
				tooltip.on('mouseover', function(){
					tip_hover = true;
				}).on('mouseleave', function(){
					tip_hover = false;
				})

				$("body").append(tooltip);
				$(context).attr('data-tooltip', true);
			}

			// remove the tooltip
			function _remove(){
				var interval;

				//remove the tooltip if the neither the targe element and the tooltip are not hovered over
				interval = setInterval(function(){
					if (!tip_hover){
						tooltip.remove();
						$(context).attr('data-tooltip', false);
						clearInterval(interval);
					}
					// console.log("interval check");
				}, 1000)
			}

			// it is necessary to bind target element events in the plugin, seems not very DRY.
			// https://github.com/gdakram/JQuery-Tooltip-Plugin/blob/master/javascripts/jquery.tooltip.js did the same
			$(context).on('mouseleave', function(){
				_remove();
			})

		}	
	});
</script>
</body>
</html>