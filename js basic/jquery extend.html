<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="script/jquery-1.8.3.js"></script>
<script src="script/underscore.js"></script>
<title>jquery</title>
</head>
 
<body>
    
<script>
    var dest = {

    }

    var source = {
        name: 'dest',
        lastname: 'dest2',
        credential: {
            username: 'abc',
            password: 112233
        }
    }
    
    // var arr = [1,2,3,4,5];
    // delete arr[2];
    // console.log(arr[2]);    //will be set to undefined, will not totally remove the element from arr

    // jQuery.extend() is by default shallow copy...
    // $.extend(dest, source);
    $.extend(true, dest, source);   //  deep copy
    // delete dest['lastname'];
    source.lastname = "changed";      // primitive type will not affect those the source...
    source.credential.password = '112233aa';
    console.log('dest', dest);      
    console.log('source', source);    // deep copy will not affect dest.credential.password

    // _.extend(dest, source);
    // // // delete dest['lastname'];
    // source.credential.password = '112233aa';
    // console.log('dest', dest);     
    // console.log('source',source);    //underscore extend is always a shallow copy, dest.credential.password will be affected by the change of 'source'

</script>
</body>
</html>