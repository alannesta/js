<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
	<script src="./bower-components/fetch/fetch.js"></script>

	<title>Mobile Error Reporter</title>
</head>
<body>
	<h1>Error Reporter</h1>

</body>
<script>
	window.onerror = reportError;

	function reportError(err) {
		err = window.navigator.userAgent + ' :: ' + err;
		$.post('http://65.38.73.115/report', err);
	}


	var kaka = {
		test: 'kaka'
	};

	try {
		var lala = Object.assign({}, kaka);
	} catch (err) {
		reportError(err);
	}

	try{
		fetch('/polling/long').then(function(res) {
			return res.text();
		}).then(function(result) {
			console.log(result)
		});

	}catch(err) {
		reportError(err);
	}

	try {
		new Promise(function(resolve, reject) {
			setTimeout(function() {
				console.log('kaka');
				resolve('done');
			}, 300);
		});
	}catch(err) {
		reportError(err);
	}

</script>
</html>
